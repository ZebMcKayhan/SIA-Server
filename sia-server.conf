# ===================================================================
# Galaxy SIA Server Configuration
#
# This is the main configuration file for the server.
# Lines starting with '#' are comments and are ignored.
# ===================================================================


# ===================================================================
# SITE CONFIGURATION
#
# Each site/panel is defined by a section header with its unique
# ACCOUNT NUMBER in square brackets (e.g., [123456]).
# ===================================================================

# --- Example 1: A simple site with a public ntfy.sh topic ---
[027978]
SITE_NAME = My Home
NTFY_ENABLED = Yes
NTFY_TITLE = Galaxy Alarm
NTFY_TOPIC = https://ntfy.sh/your-public-topic-for-home

# --- Example 2: A site with a private, token-authenticated topic ---
# [123456]
# SITE_NAME = The Cabin
# NTFY_ENABLED = Yes
# NTFY_TITLE = Cabin Alarm
# NTFY_TOPIC = https://ntfy.sh/your-private-cabin-topic
# NTFY_AUTH = Token
# NTFY_TOKEN = tk_secrettokenforyourcabingoeshere

# --- Example 3: A site with a private, user/pass authenticated topic ---
# [789012]
# SITE_NAME = Friend's House
# NTFY_ENABLED = Yes
# NTFY_TITLE = Friend's Alarm
# NTFY_TOPIC = https://ntfy.sh/your-friends-private-topic
# NTFY_AUTH = Userpass
# NTFY_USER = your_ntfy_username
# NTFY_PASS = your_ntfy_password

# --- Example 4: A site with notifications disabled ---
# [999999]
# SITE_NAME = Test Panel
# NTFY_ENABLED = No


# ===================================================================
# DEFAULT CONFIGURATION
#
# The [Default] section is used for any account number that is not
# explicitly defined above. If this section is missing or disabled,
# events from unknown accounts will only be logged.
# ===================================================================

[Default]
# SITE_NAME for unknown accounts will always be the account number itself.
NTFY_ENABLED = No
NTFY_TOPIC = https://ntfy.sh/your-topic-for-unknown-alarms
NTFY_TITLE = Unknown Galaxy Alarm
# Authentication is also supported for the default topic
# NTFY_AUTH = Token
# NTFY_TOKEN = tk_secrettokenforunknownalarms


# ===================================================================
# SERVER CONFIGURATION
# ===================================================================

[SIA-Server]
# Settings for the main SIA Event Server. This section is mandatory.
LISTEN_ADDR = 0.0.0.0
LISTEN_PORT = 10000

[IP-Check]
# Settings for the optional IP Check (Heartbeat) Server.
# If this section is missing or ENABLED is No, this server will not start.
ENABLED = Yes
LISTEN_ADDR = 0.0.0.0
LISTEN_PORT = 10001

[Logging]
# General logging settings for both servers.
LOG_LEVEL = INFO     # Options: DEBUG, INFO, WARNING, ERROR
LOG_TO = Screen      # Options: Screen, File
LOG_FILE = /tmp/sia-server.log # Only used if LOG_TO = File. Use Windows paths like C:\Logs\sia.log if needed.
LOG_MAX_MB = 10      # Log file size in MB (1-100)
LOG_BACKUP_COUNT = 5 # Nr of log files to keep (1-10)

[Notification]
# General settings for Notification que.
MAX_QUE_SIZE = 50    # Number between 1 and 1000 Maximun number of events to que up if failed to send. 
MAX_RETRIES = 10     # 0 = infinite, Maximum number of times to retry to send.
MAX_RETRY_TIME = 30  # Number between 1-1000, Max minutes between retries.
# ======= Notification Priorities ========
# Notification Event priority (see full list in galaxy/constants.py)
# Very low priority (2) - ?
PRIORITY_1 =

# Low priority (2) - Tests and routine events
# RX - Manual test  RP - Automatic test TS - Test start TE - Test end
PRIORITY_2 = RX, RP, TS, TE 

# Normal priority (3) - Arm/Disarm/User actions
# CL - Closing (Armed), OP - Opening (Disarmed), CA - Automatic closing
# OA - Automatic opening, BC - Burglary cancelled (user reset)
# OR - Opening restore / Alarm restore
PRIORITY_3 = CL, OP, CA, OA, BC, OR # Closing (Armed)

# High priority (4) - System issues (non-critical)
# AR - AC restore (mains power back), XR - Battery restore
PRIORITY_4 = AR, XR

# Urgent (5) - Alarm
# BA: Burglary alarm, BV: Burglary verified, TA: Tamper alarm, FA: Fire alarm 
# PA: Panic alarm, AT: AC trouble (mains failure), XT: Battery trouble
PRIORITY_5 = BA, BV, TA, FA, PA, AT, XT

# Default priority for unknown/unlisted event codes
DEFAULT_PRIORITY = 5  # Urgent - better safe than sorry!
